{"version":3,"sources":["master.js"],"names":["breakpoints","s","m","l","xl","$","flash","passwordDiscover","parents","attr","toggleClass","e","input","type","richEditor","language","ClassicEditor","document","editor","toolbar","error","licenseKey","preventDefault","console","formCreateTools","siblings","display","each","$this","source","val","dataname","url","success","res","setTimeout","slugification","slug","str","from","i","to"],"mappings":"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","file":"master.min.js","sourcesContent":["/**\n * MASTER JS RECIPERA 2021\n */\n\nconst breakpoints = {\n\n    s: 100,\n    m: 200,\n    l: 300,\n    xl: 400\n\n};\n\n\n\n// on load\n$(function() {\n\n    flash()\n    passwordDiscover()\n    richEditor()\n\n})\nconst flash = _ => {\n    $('.alert .close').on('click', function() {\n        $(this).parents('.alert').remove();\n    })\n}\nconst passwordDiscover = _ => {\n    $('.password__display').on('click', function(e) {\n        e.preventDefault()\n        let input = $(this).prev('input')\n        let type = input.attr('type')\n\n        $(this).children('i').toggleClass('fa-eye').toggleClass('fa-eye-slash')\n\n        if (type === 'password') {\n            input.attr('type', 'text')\n        } else if (type === 'text') {\n            input.attr('type', 'password')\n        }\n\n    })\n}\nconst richEditor = _ => {\n\n    ClassicEditor\n        .create( document.querySelector( '.ckeditor' ), {\n            toolbar: {\n                items: [\n                    'bold',\n                    'italic',\n                    'link',\n                    'bulletedList',\n                    'numberedList',\n                    '|',\n                    'undo',\n                    'redo'\n                ]\n            },\n            language: 'en',\n            licenseKey: '',\n        } )\n        .then( editor => {\n            window.editor = editor;\n        } )\n        .catch( error => {\n            console.error( 'Oops, something went wrong!' );\n            console.error( 'Please, report the following error on https://github.com/ckeditor/ckeditor5/issues with the build id and the error stack trace:' );\n            console.warn( 'Build id: asqtbxgym5wu-wvvi4djbxinq' );\n            console.error( error );\n        } );\n}\nconst formCreateTools = _ => {\n\n    $(document).on('click', '.action--addIngredient', function(e) {\n        e.preventDefault()\n        let template = `<div class=\"row\">\n                            <div class=\"col-l-4\">\n                                <div class=\"form__group\">\n                                    <label for=\"i_barcode\"><i class=\"fa fa-barcode\"></i>&nbsp;Code barre</label>\n                                    <div class=\"group__display\">\n                                        <input type=\"text\" name=\"i_barcode[]\"  class=\"datacode\" id=\"i_barcode\" placeholder=\"Entrez votre code barre\" required>\n                                        <div class=\"display password__display\"><i class=\"far fa-spin\"></i></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-l-4\">\n                                <div class=\"form__group\">\n                                    <label for=\"i_name\">Nom de l'ingrédient</label>\n                                    <input type=\"text\" name=\"i_name[]\" class=\"dataname\" id=\"i_name\" placeholder=\"Entrez le nom de votre ingrédient\">\n                                </div>\n                            </div>\n                            <div class=\"col-l-3\">\n                                <div class=\"form__group\">\n                                    <label for=\"i_quantity\">Quantité de l'ingrédient (g)</label>\n                                    <input type=\"text\" name=\"i_quantity[]\" id=\"i_quantity\" placeholder=\"Entrez la quantité souhaitée\">\n                                </div>\n                            </div>\n                            <div class=\"col-l-1 ingredient--actions\">\n                                <button class=\"btn btn__secondary btn--rounded btn--small action--removeIngredient\"><i class=\"fas fa-minus-circle\"></i></button>\n                            </div>\n                        </div>`\n\n        $('.ingredients').append(template)\n    })\n\n    $(document).on('click', '.action--removeIngredient', function(e) {\n        e.preventDefault()\n        $(this).parents('.row').remove()\n    })\n\n    /**\n     * listen when a barcode is entered to GET data from API\n     */\n\n    $(document).on('change', '.datacode', function(e) {\n        e.preventDefault()\n\n        let input = $(this),\n            display = $(this).siblings('.display'),\n            dataname = $(this).parents('.row').find('.dataname'),\n            barcode = $(this).val().trim('');\n\n        input.removeClass('input__error')\n        dataname.attr('readonly', 'readonly')\n        display.removeClass('isHidden')\n\n        $.ajax({\n            url: `https://world.openfoodfacts.org/api/v0/product/${barcode}.json`,\n            success: function(res) {\n                if(res.status === 1) {\n\n                    dataname.val(res.product.product_name)\n                    display.addClass('isHidden')\n                    input.addClass('input__success')\n                    dataname.attr('readonly', false)\n\n                    setTimeout(() => {\n                        input.removeClass('input_success')\n                    }, 1000)\n\n                } else {\n                    input.addClass('input__error')\n                }\n                console.log(res, res.product.product_name)\n            }\n        })\n\n    })\n\n\n}\nconst slugification = _ => {\n\n    const slug  = (str) => {\n        str = str.replace(/^\\s+|\\s+$/g, '') // trim\n        str = str.toLowerCase()\n\n        // remove accents, swap ñ for n, etc\n        var from = \"ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆĞÍÌÎÏİŇÑÓÖÒÔÕØŘŔŠŞŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇğíìîïıňñóöòôõøðřŕšşťúůüùûýÿžþÞĐđßÆa·/_,:\"\n        var to = \"AAAAAACCCDEEEEEEEEGIIIIINNOOOOOORRSSTUUUUUYYZaaaaaacccdeeeeeeeegiiiiinnooooooorrsstuuuuuyyzbBDdBAa------\"\n        for (var i = 0, l = from.length;  i < l; i++) {\n            str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i))\n        }\n\n        str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n            .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n            .replace(/-+/g, '-') // collapse dashes\n\n        return str\n    }\n\n    $('.toSlugify').each(function () {\n        var $this = $(this)\n        var source = $(this).data('source')\n        $(document).on('change keyup', source, function () {\n            $this.val(slug($(this).val()))\n        })\n        $(this).val(slug($($(this).data('source')).val()))\n    })\n}\n\n"]}